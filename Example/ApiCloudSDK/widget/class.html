<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>动力体育商城</title>
    <link rel="stylesheet" type="text/css" href="css/ali-icon/iconfont.css"/>
    <link rel="stylesheet" type="text/css" href="css/aui.css"/>
    <link rel="stylesheet" type="text/css" href="css/public.css"/>
     <link rel="stylesheet" href="css/treads_new.css">
    <style>
        .disnone {
            display: none;
        }

        .disblock {
            display: block;
        }
        .active-danger span {
            color: #c0392b;
        }

        .iconfont {
            font-size: 22px;
            color: #8f8f94;
            padding-top: 5px;
            height: 30px;
            line-height: 30px;
            display: inline-block;
            position: relative;
        }
        .header-c{
            overflow: hidden;
        }
        .head-left {
            width: 90%;
            height: 30px;
            background: #c89700;
            line-height: 30px;
            margin: 8px auto 0px auto;
            color: #fff;
            text-align: left;
            padding: 0 20px;
            border-radius: 5px;
            font-size: 14px;
        }
        .head-left .aui-iconfont {
            color: #fff;
            line-height: 30px;
            margin-right: 5px;
            font-size: 14px;;
        }
        .aui-badge {
            top: 0.1rem;
            left: 100%;
        }
        .active-danger span {
            color: #F35748;
        }
        .active-danger p {
            color: #F35748 !important;
        }
    </style>
</head>
<body>
<div id="app">
    
    <footer class="aui-nav" id="aui-footer" style="height: 40px;" >
        <ul class="aui-bar-tab aui-border-t" style="background: white;padding-top: 2px;">
            <li class="" v-for="(vo,index) in list" tapmode  v-on:click="change_menu(index)">
                <span class="iconfont" v-if="index == 0">
                	<img src="utils/lkweb_back_can@3x.png" style="max-width: 10px;"/>
                </span>
                <span class="iconfont" v-if="index == 1">
                	<img src="utils/lkweb_next_can@3x.png" style="max-width: 10px;"/>
                </span>
                <span class="iconfont" v-if="index == 2">
                	<img src="utils/lkweb_refresh_nor@3x.png" style="max-width: 20px;"/>
                </span>
                <span class="iconfont" v-if="index == 3">
                	<img src="utils/lkweb_home_nor@3x.png" style="max-width: 20px;"/>
                </span>
            </li>
        </ul>
    </footer>
</div>
</body>

</html>
<script type="text/javascript" src="script/api.js"></script>
<script type="text/javascript" src="script/common.js"></script>
<script type="text/javascript" src="script/vue.js"></script>
<script type="text/javascript" src="script/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="script/config.js"></script>
<script type="text/javascript" src="script/util.js"></script>
<script type="text/javascript" src="script/app.js"></script>
<script>
	function GetRequest() {  
   var url = location.search; //获取url中"?"符后的字串  
   var theRequest = new Object();  
   if (url.indexOf("?") != -1) {  
      var str = url.substr(1);  
      strs = str.split("&");  
      for(var i = 0; i < strs.length; i ++) {  
         theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1]);  
      }  
   }  
   return theRequest;  
}
	var urlData=GetRequest();
	var nowUrl=decodeURI(urlData["url"]);
	var lastUrl=decodeURI(urlData["url"]);
	var indexUrl=decodeURI(urlData["url"]);
	var isLoadDing=false;
	var isLoadDing2=false;
    var vm = new Vue({
        el: '#app',
        data: {
            total_goods_sum: 0,
            cou_index: 0,//显示当前索引
            list:[
                {title:'后退'},
                {title:'前进'},
                {title:'刷新'},
                {title:'首页'}
            ]
        },
        methods: {
            
            init: function () {
            	api.openFrame ({
          name: 'mainframe',
          url: urlData["url"],
          rect:{
          x:0,
          y:0,
          w:api.winWidth,
          h:api.winHeight  - $api.dom('footer').offsetHeight
          },
          bounces: false,
          opaque: false
          /*vScrollBarEnabled:false,*/
          /*hScrollBarEnabled:false*/
      });
//              api.openFrameGroup({
//                  name: 'IndexGroup',//app首页frame组预加载
//                  background: 'bgcolor',
//                  scrollEnabled: false,
//                  rect: {
//                      x: 0,
//                      y: 0,
//                      w: api.winWidth,
//                      h: api.winHeight  - $api.dom('footer').offsetHeight
//                  },
//                  index: vm.cou_index,
//                  preload: true,
//                  frames: [
//                      {
//                          name: 'index_index',
//                          url: 'start.html?url='+encodeURI(urlData["url"]),
//                          bgColor: 'bgcolor',
//                          bounces: true,
//                          reload: false
//                      },
//                      {
//                          name: 'index_index',
//                          url: 'start.html?url='+encodeURI(urlData["url"]),
//                          bgColor: 'bgcolor',
//                          bounces: false,
//                          reload: false
//                      },
//                      {
//                          name: 'index_index',
//                          url: 'start.html?url='+encodeURI(urlData["url"]),
//                          bgColor: 'bgcolor',
//                          bounces: true,
//                          reload: false
//                      },
//                      {
//                          name: 'index_index',
//                          url: 'start.html?url='+encodeURI(urlData["url"]),
//                          bgColor: 'bgcolor',
//                          bounces: true,
//                          reload: false
//                      }
//                  ]
//              }, function (ret, err) {
//
//              });
                api.setFrameClient({
        frameName:"mainframe"
    }, function(ret, err){
        switch (ret.state) {
            case 0: //加载开始
//           alert('开始加载咯'+JSON.stringify(ret));
//if(isLoadDing==true&&isLoadDing2==false){
util.showProgress();
                                   setTimeout(function(){
                                              util.hideProgress();
                                              }, 3000);
//}
       break;
            case 1: //加载进度发生变化

                               break;
            case 2: //加载结束
        //alert('加载完毕'+JSON.stringify(ret));
      // if(isLoadDing==true&&isLoadDing2==false){ 
       	  util.hideProgress();
       	  isLoadDing2=true;
      // }
       isLoadDing=true;
       console.log('加载完毕'+JSON.stringify(ret));
        
                               break;
            case 3: //标题发生变化
//alert('标题变化'+JSON.stringify(ret));
                            break;
            case 4://url发生变化
//alert('url改变咯'+JSON.stringify(ret));
                            break;
            default:
                            break;
        }
    });
            },
            change_menu: function (index) {
console.log(index+">>>>>>>>>>>>>>>>");
                

                //切换菜单
                vm.cou_index = index;
                
                if(parseInt(index)==0){
                	console.log(index+">>>>>>>>>>>>>>>>执行");
                		var jsfunc="history.back();";
                		api.execScript({
                     
                   frameName: 'mainframe',
                     script: jsfunc
                    });
                		return true;
                }
               if(parseInt(index)==1){
                	console.log(index+">>>>>>>>>>>>>>>>执行");
                		var jsfunc="history.go(1);";
                		api.execScript({
                     
                   frameName: 'mainframe',
                     script: jsfunc
                    });
                		return true;
                }
               if(parseInt(index)==2){
                	console.log(index+">>>>>>>>>>>>>>>>执行");
                		var jsfunc="location.reload();";
                		api.execScript({
                      
                   frameName: 'mainframe',
                     script: jsfunc
                    });
                		return true;
                }
               if(parseInt(index)==3){
                	console.log(index+">>>>>>>>>>>>>>>>执行");
                		var jsfunc="window.location=\""+indexUrl+"\";";
                		api.execScript({
                   
                   frameName: 'mainframe',
                     script: jsfunc
                    });
                		return true;
                }
            }
        }
    });

    apiready = function () {
	if(api.safeArea.bottom>0){
            $api.dom('footer').style.paddingBottom = (api.safeArea.bottom+30) + 'px';
        }
        vm.init();
    };
  
    
</script>
<!--fd19a25324c02158-->
<!--d2d15b85ec7d7829-->
<!--i09813d391159153-->
<!--lb807cbdb5688957-->
<!--b22027255b0c8908-->
<!--c43f92e62b0e5271-->
<!--d9354492a934f577-->
<!--pf269b72d2080647-->
<!--b8b854d615486242-->
<!--n2920f8b31d1f993-->
<!--dc14f46d5bc21799-->
<!--fkhghmocmhjohiinnknccmamlgaompfhnheq-->
<!--gddbhknfcogfffcpmmbfgpfmqmhqbopjemni-->
